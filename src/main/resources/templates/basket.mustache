<!DOCTYPE html>
<html lang="en">

{{> head-partial}}

<body>

  <!-- Navigation -->
  {{> navbar-partial}}

  <!-- Page Content -->
  <div class="container">

    <div class="row">

     {{> categories-partial}}

      <div class="col-lg-9">
        <div class="row mt-4">
            <table class="table">
              <thead>
              <tr>
                <th scope="col">Name</th>
                <th scope="col">Quantity</th>
              </tr>
              </thead>
              <tbody>
              {{#basketItems}}
              <tr>
                <th scope="row">{{cake.name}}</th>
                <td>x{{count}}</td>
                <td>
                  <form action="/basket/delete" method="post">
                    <label>
                      <input hidden name="sku" value="{{cake.sku}}">
                    </label>
                    <input type="hidden" name="_csrf" value="{{_csrf.token}}" />
                    <input type="submit" class="btn btn-primary" value="Remove">
                  </form>
                </td>
              </tr>
              {{/basketItems}}
              </tbody>
            </table>
          {{^basketItems}}
            <div class="row">
              <p class="text-center">Your basket is empty. Add some items from catalog</p>
            </div>
          {{/basketItems}}

        </div>
        <!-- /.row -->

        <div class="row">
          <form name="orderInfo" action="/orders" method="post">
            {{#address}}
            <div class="form-group">
              <label for="addressLine1">Address line 1</label>
              <input id="addressLine1" type="text" minlength="1" name="addressLine1" value="{{address.addressLine1}}">
            </div>
            <div class="form-group">
              <label for="addressLine2">Address line 2</label>
              <input id="addressLine2" type="text" minlength="1" name="addressLine2" value="{{address.addressLine2}}">
            </div>
            <div class="form-group">
              <label for="postCode">Post code</label>
              <input id="postCode" type="text" minlength="1" name="postCode" value="{{address.postcode}}">
            </div>
            <input hidden name="{{_csrf.parameterName}}" value="{{_csrf.token}}">
            <button class="btn btn-primary" type="submit">Complete order</button>
            {{/address}}
          </form>
        </div>

      </div>
      <!-- /.col-lg-9 -->

    </div>
    <!-- /.row -->

  </div>
  <!-- /.container -->

  {{> footer-scripts-partial}}

</body>

</html>
